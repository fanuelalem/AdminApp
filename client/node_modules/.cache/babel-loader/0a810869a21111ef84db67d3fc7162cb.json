{"ast":null,"code":"var _jsxFileName = \"/Users/fanuelalem/CarnaApp/client/src/containers/SignUp/index.js\";\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Form, Segment, Button, Container, Grid, Image, Header, Icon } from 'semantic-ui-react';\nimport { email, length, required } from 'redux-form-validators';\nimport logo from './../../components/Images/Logo.png';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport fanuel from './../../components/Images/fanuel.jpg';\nimport ganesh from './../../components/Images/ganesh.png';\nimport vanessa from './../../components/Images/vanessa.jpeg';\nimport husam from './../../components/Images/husam.jpeg';\nimport './../../index.css';\nimport axios from 'axios';\nimport './../../index.css';\nimport { AUTH_USER, AUTH_USER_ERROR } from '../../actions/types';\n\nclass SignUp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.skills = [{\n      text: 'I am a student',\n      value: true\n    }, {\n      text: 'I am a Teacher',\n      value: false\n    }];\n\n    this.renderEmail = ({\n      input,\n      meta\n    }) => {\n      // console.log(meta);\n      return /*#__PURE__*/React.createElement(Form.Input, Object.assign({}, input, {\n        error: meta.touched && meta.error,\n        fluid: true,\n        icon: \"user\",\n        iconPosition: \"left\",\n        autoComplete: \"off\",\n        placeholder: \"Email Address\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    this.onSubmit = async (formValues, dispatch) => {\n      console.log(formValues); // console.log(formsProps)\n\n      try {\n        const {\n          data\n        } = await axios.post('/api/auth/signup', formValues);\n        localStorage.setItem('token', data.token);\n        dispatch({\n          type: AUTH_USER,\n          payload: data.token\n        });\n        console.log('reached');\n        formValues.isStudent ? this.props.history.push('/pickteacher') : this.props.history.push('/mycourses');\n      } catch (e) {\n        dispatch({\n          type: AUTH_USER_ERROR,\n          payload: e\n        });\n      }\n    };\n\n    this.renderSkills = field => {\n      return /*#__PURE__*/React.createElement(Form.Select, Object.assign({}, field.input, {\n        value: field.input.value //redux form with semantic drop down select\n        ,\n        onChange: (param, data) => field.input.onChange(data.value),\n        label: field.label,\n        type: \"option\",\n        placeholder: field.label,\n        autoComplete: \"off\",\n        options: this.skills,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    this.renderPassword = ({\n      input,\n      meta\n    }) => {\n      return /*#__PURE__*/React.createElement(Form.Input, Object.assign({}, input, {\n        error: meta.touched && meta.error,\n        fluid: true,\n        type: \"password\",\n        icon: \"lock\",\n        placeholder: \"password\",\n        autoComplete: \"off\",\n        iconPosition: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }\n      }));\n    };\n  }\n\n  render() {\n    // console.log(\"Inside of signup render\", this.props);\n    const {\n      handleSubmit,\n      invalid,\n      submitting,\n      submitFailed\n    } = this.props;\n    return (\n      /*#__PURE__*/\n      // onSubmit={handleSubmit(this.onSubmit)}\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Helmet, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"style\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 4\n        }\n      }, 'body {    }')), /*#__PURE__*/React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '75vh',\n          margin: '0px 0 99px 0'\n        },\n        verticalAlign: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 500\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: '140px 0 0 0'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        size: \"large\",\n        onSubmit: handleSubmit(this.onSubmit),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Segment, {\n        style: {\n          backgroundColor: '#f7f8fa'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        color: \"grey\",\n        textAlign: \"center\",\n        style: {\n          fontSize: '33px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          margin: '0 0 0 15px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }\n      }, \"Create an account \")), /*#__PURE__*/React.createElement(Field, {\n        name: \"email\",\n        component: this.renderEmail,\n        validate: [required({\n          msg: 'Email is required'\n        }), email({\n          msg: 'You must provide a valid email address'\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        name: \"password\",\n        component: this.renderPassword,\n        validate: [required({\n          msg: 'You must provide a Password'\n        }), length({\n          min: 6,\n          msg: 'Your password must be at least 6 characters long'\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        name: \"isStudent\",\n        label: \"Are you a student or teacher?\",\n        component: this.renderSkills,\n        validate: [required({\n          msg: 'You must select one'\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        content: \"Sign Up\",\n        color: \"twitter\",\n        fluid: true,\n        size: \"large\",\n        type: \"submit\",\n        disabled: invalid || submitting || submitFailed,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }))))))) // <Form size='large' onSubmit={handleSubmit(this.onSubmit)}>\n      //   <Segment stacked>\n      //     <Field\n      //       name='email'\n      //       iscool='mannyiscool'\n      //       component={ this.renderEmail }\n      //       validate={\n      //         [\n      //           required({ msg: 'Email is required' }),\n      //           email({ msg: 'You must provide a valid email address' })\n      //         ]\n      //       }\n      //     />\n      //     <Field\n      //       name='password'\n      //       component={this.renderPassword}\n      //       validate={\n      //         [\n      //           required({ msg: 'You must provide a password' }),\n      //           length({ min: 6, msg: 'Your password must be at least 6 characters long' })\n      //         ]\n      //       }\n      //     />\n      //     <Button\n      //       content='Sign up'\n      //       color='teal'\n      //       fluid\n      //       size='large'\n      //       type='submit'\n      // disabled={ invalid || submitting || submitFailed }\n      //     />\n      //   </Segment>\n      // </Form>\n\n    );\n  }\n\n}\n\nconst asyncValidate = async ({\n  email\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/user/emails?email=${email}`);\n\n    if (data) {\n      throw new Error();\n    }\n  } catch (e) {\n    throw {\n      email: 'email is already taken'\n    };\n  }\n}; // const asyncValidate = async formValues => {\n//   try {\n//     const { data } = await axios.get(`/api/user/emails`);\n//     const foundEmail = data.some((user)=>(user.email === formValues.email))\n//     if(foundEmail){\n//       throw new Error();\n//     }\n//     // ?email=${formValues.email}\n//     // if (data) {\n//     //   throw new Error();\n//     // }\n//   } catch (e) {\n//     throw { email: 'Email already exists, please sign up with a different email' };\n//   }\n// }\n// export default reduxForm({form:'signup'})(SignUp)\n\n\nexport default reduxForm({\n  form: 'signup',\n  asyncValidate,\n  asyncChangeFields: ['email']\n})(SignUp); // export default SignUp;","map":{"version":3,"sources":["/Users/fanuelalem/CarnaApp/client/src/containers/SignUp/index.js"],"names":["React","Component","Field","reduxForm","Form","Segment","Button","Container","Grid","Image","Header","Icon","email","length","required","logo","Helmet","Link","fanuel","ganesh","vanessa","husam","axios","AUTH_USER","AUTH_USER_ERROR","SignUp","skills","text","value","renderEmail","input","meta","touched","error","onSubmit","formValues","dispatch","console","log","data","post","localStorage","setItem","token","type","payload","isStudent","props","history","push","e","renderSkills","field","param","onChange","label","renderPassword","render","handleSubmit","invalid","submitting","submitFailed","height","margin","maxWidth","backgroundColor","fontSize","msg","min","asyncValidate","get","Error","form","asyncChangeFields"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Form, Segment, Button,Container,Grid ,Image,Header,Icon} from 'semantic-ui-react';\nimport { email, length, required } from 'redux-form-validators';\nimport logo from './../../components/Images/Logo.png'\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport fanuel from './../../components/Images/fanuel.jpg'\nimport ganesh from './../../components/Images/ganesh.png'\nimport vanessa from './../../components/Images/vanessa.jpeg'\nimport husam from './../../components/Images/husam.jpeg'\nimport './../../index.css'\n\n\nimport axios from 'axios';\nimport './../../index.css'\nimport { AUTH_USER, AUTH_USER_ERROR } from '../../actions/types';\n\nclass SignUp extends Component {\n\n  skills = [\n    { text: 'I am a student', value: true },\n    { text: 'I am a Teacher', value: false },\n   \n  ];\n\n  renderEmail = ({input,meta}) => {\n    // console.log(meta);\n    return(\n      <Form.Input\n      {...input}\n      error={meta.touched && meta.error}\n      fluid\n      icon='user'\n      iconPosition='left'\n      autoComplete='off'\n      placeholder='Email Address'\n      />\n    )\n  }\n  onSubmit = async (formValues,dispatch) => {\n    console.log(formValues)\n    // console.log(formsProps)\n    try {\n      const { data } = await axios.post('/api/auth/signup', formValues);\n      localStorage.setItem('token', data.token);\n      dispatch({ type: AUTH_USER, payload: data.token });\n      console.log('reached')\n      formValues.isStudent? this.props.history.push('/pickteacher'):this.props.history.push('/mycourses')\n      \n    } catch (e) {\n      dispatch({ type: AUTH_USER_ERROR, payload: e });\n    }\n  }\n\n  renderSkills = (field) => {\n    return (\n      <Form.Select\n        {...field.input}\n        value={field.input.value}\n        //redux form with semantic drop down select\n        onChange={(param, data) => field.input.onChange(data.value)}\n        label={field.label}\n        type='option'\n        placeholder={field.label}\n        autoComplete='off'\n        options={this.skills}\n      />\n    )\n  }\n  // renderEmail = ({ input, meta }) => {\n  //   return (\n  //     <Form.Input\n  //       {...input}\n  //       error={ meta.touched && meta.error }\n  //       fluid\n  //       icon='user'\n  //       iconPosition='left'\n  //       autoComplete='off'\n  //       placeholder='Email Address'\n  //     />\n  //   );\n  // }\n\n\n  renderPassword = ({ input, meta }) => {\n    return (\n      <Form.Input\n        {...input}\n        error={meta.touched && meta.error }\n        fluid\n        type='password'\n        icon='lock'\n        placeholder='password'\n        autoComplete='off'\n        iconPosition='left'\n      />\n    );\n  }\n\n  render() {\n    // console.log(\"Inside of signup render\", this.props);\n     const {handleSubmit, invalid, submitting, submitFailed} = this.props;\n    return (\n      // onSubmit={handleSubmit(this.onSubmit)}\n      <div  >\n <Helmet>\n   <style>{'body {    }'}</style>\n\n         </Helmet>\n         <Grid textAlign=\"center\" style={{ height: '75vh',margin:'0px 0 99px 0' }} verticalAlign=\"middle\">\n          <Grid.Column style={{ maxWidth: 500 }}>\n\n \n   <div  style={{margin:'140px 0 0 0'}} >\n\n    \n      \n      <Form size='large' onSubmit={handleSubmit(this.onSubmit)}>\n        \n        <Segment style={{backgroundColor:'#f7f8fa' }} >\n        <Header  color='grey' textAlign=\"center\" style={{ fontSize: '33px' }}>\n               <span style={{ margin:'0 0 0 15px'}}>Create an account </span> \n            </Header>\n          <Field\n          name='email'\n          component={this.renderEmail}\n          validate={[\n            required({msg: 'Email is required'}),\n            email({msg: 'You must provide a valid email address'})\n          ]}\n          />\n          <Field\n          name='password'\n          component={this.renderPassword}\n          validate={[\n            required({msg:'You must provide a Password'}),\n            length({min:6,msg:'Your password must be at least 6 characters long'})\n          ]}\n          />\n\n<Field\n              name='isStudent'\n              label='Are you a student or teacher?'\n              component={this.renderSkills}\n              validate={\n                [\n                  required({ msg: 'You must select one' }),\n                ]\n              }\n            />\n          <Button\n \n          content=\"Sign Up\"\n          color=\"twitter\"\n          fluid\n          size=\"large\"\n          type=\"submit\"\n          disabled={ invalid || submitting || submitFailed }\n           />\n        </Segment>\n      </Form>\n      </div>\n      </Grid.Column>\n</Grid>\n \n\n       </div>\n\n\n\n      // <Form size='large' onSubmit={handleSubmit(this.onSubmit)}>\n      //   <Segment stacked>\n      //     <Field\n      //       name='email'\n      //       iscool='mannyiscool'\n      //       component={ this.renderEmail }\n      //       validate={\n      //         [\n      //           required({ msg: 'Email is required' }),\n      //           email({ msg: 'You must provide a valid email address' })\n      //         ]\n      //       }\n      //     />\n      //     <Field\n      //       name='password'\n      //       component={this.renderPassword}\n      //       validate={\n      //         [\n      //           required({ msg: 'You must provide a password' }),\n      //           length({ min: 6, msg: 'Your password must be at least 6 characters long' })\n      //         ]\n      //       }\n      //     />\n      //     <Button\n      //       content='Sign up'\n      //       color='teal'\n      //       fluid\n      //       size='large'\n      //       type='submit'\n            // disabled={ invalid || submitting || submitFailed }\n      //     />\n      //   </Segment>\n      // </Form>\n    );\n  }\n}\n\nconst asyncValidate = async ({email})=>{\n  try {\n    const {data}=await axios.get(`/api/user/emails?email=${email}`);\n    if(data){\n      throw new Error();\n    }\n  } catch (e) {\n    throw{email:'email is already taken'};\n  }\n}\n// const asyncValidate = async formValues => {\n//   try {\n//     const { data } = await axios.get(`/api/user/emails`);\n//     const foundEmail = data.some((user)=>(user.email === formValues.email))\n//     if(foundEmail){\n//       throw new Error();\n//     }\n//     // ?email=${formValues.email}\n//     // if (data) {\n//     //   throw new Error();\n//     // }\n//   } catch (e) {\n//     throw { email: 'Email already exists, please sign up with a different email' };\n//   }\n// }\n// export default reduxForm({form:'signup'})(SignUp)\nexport default reduxForm({ form: 'signup', asyncValidate, asyncChangeFields: [ 'email' ] })(SignUp);\n// export default SignUp;"]},"metadata":{},"sourceType":"module"}