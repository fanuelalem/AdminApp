{"ast":null,"code":"const OBJECT_PROTOTYPE_KEYS = Object.getOwnPropertyNames(Object.prototype);\nconst ARRAY_PROTOTYPE_KEYS = Object.getOwnPropertyNames(Array.prototype);\n\nmodule.exports = function (data) {\n  if (!data || data.length < 1) return {};\n  let d = {},\n      keys = Object.keys(data);\n\n  for (let i = 0; i < keys.length; i++) {\n    let key = keys[i],\n        value = data[key],\n        current = d,\n        keyParts = key.replace(new RegExp(/\\[/g), '.').replace(new RegExp(/\\]/g), '').split('.');\n\n    for (let index = 0; index < keyParts.length; index++) {\n      let k = keyParts[index]; // Ensure we don't allow prototype pollution\n\n      const IN_ARRAY_PROTOTYPE = ARRAY_PROTOTYPE_KEYS.includes(k) && Array.isArray(current);\n\n      if (OBJECT_PROTOTYPE_KEYS.includes(k) || IN_ARRAY_PROTOTYPE) {\n        continue;\n      }\n\n      if (index >= keyParts.length - 1) {\n        current[k] = value;\n      } else {\n        if (!current[k]) current[k] = !isNaN(keyParts[index + 1]) ? [] : {};\n        current = current[k];\n      }\n    }\n  }\n\n  return d;\n};","map":null,"metadata":{},"sourceType":"script"}