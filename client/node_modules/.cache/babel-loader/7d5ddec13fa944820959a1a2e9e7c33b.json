{"ast":null,"code":"import { GET_ALL_TODOS, GET_ALL_TODOS_ERROR, GET_USER_TODOS, GET_USER_TODOS_ERROR, UPDATE_TODO_BY_ID_ERROR, DELETE_TODO_BY_ID_ERROR } from '../types';\nimport axios from 'axios';\nexport const getAllTodos = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get('/api/stock');\n    dispatch({\n      type: GET_ALL_TODOS,\n      payload: data\n    });\n  } catch (e) {\n    dispatch({\n      type: GET_ALL_TODOS_ERROR,\n      payload: 'Something went wrong, please refresh the page to try again'\n    });\n  }\n};\nexport const getUserTodos = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get('/api/user/stock', {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n    dispatch({\n      type: GET_USER_TODOS,\n      payload: data\n    });\n  } catch (e) {\n    dispatch({\n      type: GET_USER_TODOS_ERROR,\n      serverError: e,\n      userError: 'Please refresh the page and try again'\n    });\n  }\n};\nexport const postData = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get('/api/user/stock', {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n  } catch (e) {\n    dispatch({\n      type: GET_USER_TODOS_ERROR,\n      serverError: e,\n      userError: 'Please refresh the page and try again'\n    });\n  }\n};\nexport const updateTodoCompletedById = (id, completed, text) => async dispatch => {\n  try {\n    await axios.put(`/api/user/stock/${id}`, {\n      text,\n      completed: !completed\n    }, {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n    const {\n      data\n    } = await axios.get('/api/user/stock', {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n    dispatch({\n      type: GET_USER_TODOS,\n      payload: data\n    });\n  } catch (e) {\n    dispatch({\n      type: UPDATE_TODO_BY_ID_ERROR,\n      payload: e\n    });\n  }\n};\nexport const deleteTodoById = id => async dispatch => {\n  try {\n    await axios.delete(`/api/user/stock/${id}`, {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n    const {\n      data\n    } = await axios.get('/api/user/stock', {\n      headers: {\n        'authorization': localStorage.getItem('token')\n      }\n    });\n    dispatch({\n      type: GET_USER_TODOS,\n      payload: data\n    });\n  } catch (e) {\n    dispatch({\n      type: DELETE_TODO_BY_ID_ERROR,\n      payload: e\n    });\n  }\n};","map":{"version":3,"sources":["/Users/fanuelalem/pro3/Project-3/client/src/actions/stocks/index.js"],"names":["GET_ALL_TODOS","GET_ALL_TODOS_ERROR","GET_USER_TODOS","GET_USER_TODOS_ERROR","UPDATE_TODO_BY_ID_ERROR","DELETE_TODO_BY_ID_ERROR","axios","getAllTodos","dispatch","data","get","type","payload","e","getUserTodos","headers","localStorage","getItem","serverError","userError","postData","updateTodoCompletedById","id","completed","text","put","deleteTodoById","delete"],"mappings":"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","sourcesContent":[" \n\nimport {\n  GET_ALL_TODOS,\n  GET_ALL_TODOS_ERROR,\n  GET_USER_TODOS,\n  GET_USER_TODOS_ERROR,\n  UPDATE_TODO_BY_ID_ERROR,\n  DELETE_TODO_BY_ID_ERROR,\n} from '../types';\n\n\nimport axios from 'axios';\n\n \n\nexport const getAllTodos = () => async dispatch => {\n  try {\n     const { data } = await axios.get('/api/stock');\n    dispatch({ type: GET_ALL_TODOS, payload: data });\n  } catch (e) {\n    dispatch({ type: GET_ALL_TODOS_ERROR, payload: 'Something went wrong, please refresh the page to try again'})\n  }\n};\n\nexport const getUserTodos = () => async dispatch => {\n  try {\n   const { data } = await axios.get('/api/user/stock', { headers: { 'authorization': localStorage.getItem('token')} } );\n   dispatch({ type: GET_USER_TODOS, payload: data });\n } catch (e) {\n   dispatch({ type: GET_USER_TODOS_ERROR, serverError: e, userError: 'Please refresh the page and try again' });\n }\n};\n\nexport const postData = () => async dispatch => {\n  try {\n   const { data } = await axios.get('/api/user/stock', { headers: { 'authorization': localStorage.getItem('token')} } );\n  } catch (e) {\n   dispatch({ type: GET_USER_TODOS_ERROR, serverError: e, userError: 'Please refresh the page and try again' });\n }\n};\n \n\nexport const updateTodoCompletedById = (id, completed, text) => async dispatch => {\n  try {\n    await axios.put(`/api/user/stock/${id}`, {text, completed: !completed }, { headers: { 'authorization': localStorage.getItem('token')} } );\n    const { data } = await axios.get('/api/user/stock', { headers: { 'authorization': localStorage.getItem('token')} } );\n    dispatch({ type: GET_USER_TODOS, payload: data });\n  } catch (e) {\n    dispatch({ type: UPDATE_TODO_BY_ID_ERROR, payload: e });\n  }\n};\n\nexport const deleteTodoById = id => async dispatch => {\n  try {\n    await axios.delete(`/api/user/stock/${id}`, { headers: { 'authorization': localStorage.getItem('token')} } );\n    const { data } = await axios.get('/api/user/stock', { headers: { 'authorization': localStorage.getItem('token')} } );\n    dispatch({ type: GET_USER_TODOS, payload: data });\n  } catch (e) {\n    dispatch({ type: DELETE_TODO_BY_ID_ERROR, payload: e });\n  }\n};\n\n "]},"metadata":{},"sourceType":"module"}