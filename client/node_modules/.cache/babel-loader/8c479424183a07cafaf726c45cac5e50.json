{"ast":null,"code":"const express = require('express');\n\nconst mongoose = require('mongoose'); // const cors = require('cors');\n\n\nconst app = express(); // const server = require('http').createServer(app);\n// const io = require('socket.io')(server);\n\nconst routes = require('./routes');\n\nconst PORT = process.env.PORT || 3001; // io.on('connection', socket => {\n//   socket.on('message', (data) => {\n//     socket.emit('serverToClientMessage', data);\n//   });\n//   socket.on('disconnect', () => {\n//     console.log(\"See ya\");\n//     return;\n//   });\n// });\n// Setup middlewares\n\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(express.json());\n\nif (process.env.NODE_ENV === 'production') {\n  app.use(express.static('client/build'));\n} // app.get('*', function(req, res) {\n//   res.sendFile(path.join(__dirname, './client/public/index.html'), function(err) {\n//     if (err) {\n//       res.status(500).send(err)\n//     }\n//   })\n// })\n\n\napp.use(\"/\", routes);\n\nrequire('./services/passport'); // Connect database\n// mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost/userstockitem', { useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true, useFindAndModify: false });\n\n\nconst MONGODB_URI = 'mongodb+srv://fanuel_alem:Classof2017@stormy-refuge.mt0nq.mongodb.net/<dbname>?retryWrites=true&w=majority';\nmongoose.connect(MONGODB_URI || 'mongodb://localhost/userstockitem', {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false\n});\nmongoose.connection.on('connected', () => {\n  console.log('mongoose is connected');\n}); // Classof2017\n\napp.listen(PORT, () => {\n  console.log(`listening on PORT ${PORT}`);\n});","map":null,"metadata":{},"sourceType":"script"}