{"ast":null,"code":"const express = require('express');\n\nconst mongoose = require('mongoose');\n\nconst fileUpload = require('express-fileupload'); // const cors = require('cors');\n\n\nconst app = express();\n\nconst routes = require('./routes');\n\nconst PORT = process.env.PORT || 3001; // Setup middlewares\n\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(express.json());\napp.use(fileUpload()); // app.use(methodOverride('_method'))\n\nif (process.env.NODE_ENV === 'production') {\n  app.use(express.static('client/build'));\n}\n\napp.use(\"/\", routes);\n\nrequire('./services/passport'); // Connect database\n// mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost/userstockitem', { useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true, useFindAndModify: false });\n\n\nconst MONGODB_URI = 'mongodb+srv://fanuel_alem:Classof2017@stormy-refuge.mt0nq.mongodb.net/<dbname>?retryWrites=true&w=majority';\nmongoose.connect(MONGODB_URI || 'mongodb://localhost/profile', {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false\n});\nmongoose.connection.on('connected', () => {\n  console.log('mongoose is connected');\n}); // Classof2017\n\napp.listen(PORT, () => {\n  console.log(`listening on PORT ${PORT}`);\n});","map":null,"metadata":{},"sourceType":"script"}