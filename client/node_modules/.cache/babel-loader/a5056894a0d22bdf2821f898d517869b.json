{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = addValidator;\n\nvar _messages = _interopRequireDefault(require(\"./messages\"));\n\nvar _validators = _interopRequireDefault(require(\"./validators\"));\n\nvar _helpers = require(\"./helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction addValidator(_ref) {\n  var validator = _ref.validator,\n      defaultMessage = _ref.defaultMessage,\n      defaultMsg = _ref.defaultMsg;\n  defaultMsg = (0, _helpers.toObjectMsg)(defaultMsg || defaultMessage) || _messages[\"default\"].invalid;\n  return (0, _helpers.memoize)(function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var msg = (0, _helpers.toObjectMsg)(options.msg || options.message) || defaultMsg;\n    return (0, _helpers.prepare)(options[\"if\"], options.unless, options.allowBlank, function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var result = validator.apply(void 0, [options].concat(args));\n\n      if (typeof result !== 'boolean') {\n        return result ? _validators[\"default\"].formatMessage(result) : null;\n      }\n\n      if (!result) {\n        return _validators[\"default\"].formatMessage(msg);\n      }\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"script"}